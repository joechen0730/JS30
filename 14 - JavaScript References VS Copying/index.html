<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Reference VS Copy</title>
</head>
<body>

  <script>
    // start with strings, numbers and booleans

    // Let's say we have an array
    const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];

    
    // call by reference
    // let player1 = players;
    // player1[0] = 'momo'
    // console.log(player1,players) 
    // ['momo', 'Sarah', 'Ryan', 'Poppy'], ['momo', 'Sarah', 'Ryan', 'Poppy']

    // slice
    // let slice_player = players.slice();
    // slice_player[0] = 'momo';
    // console.log(slice_player,players)
    // ['momo', 'Sarah', 'Ryan', 'Poppy'], ['Wes', 'Sarah', 'Ryan', 'Poppy']


    // concat 
    // let concat_player = [].concat(players);
    // concat_player[0] = 'momo';
    // console.log(concat_player,players)
    // ['momo', 'Sarah', 'Ryan', 'Poppy'], ['Wes', 'Sarah', 'Ryan', 'Poppy']

    // es6 解構賦值
    // let spread_player = [...players];
    // spread_player[0] = 'momo';
    // console.log(spread_player, players);
    // ['momo', 'Sarah', 'Ryan', 'Poppy'], ['Wes', 'Sarah', 'Ryan', 'Poppy']

    // 透過 解構賦值 將陣列中的物件也取出，但如果新的陣列中的物件值被更改 也會影響到原本陣列中的物件
    //  let obj_in_array = [{ name:'alex'}, 'Sarah', 'Ryan', 'Poppy'];
    //  let spread_obj_player = [...obj_in_array];
    //  spread_obj_player[0]['name'] = 'momo';
    //  console.log(spread_obj_player, obj_in_array)
    // [{ name:'momo'}, 'Sarah', 'Ryan', 'Poppy'], [{ name:'momo'}, 'Sarah', 'Ryan', 'Poppy']


    // with Objects
    const person = {
      name: 'Wes Bos',
      age: 80
    };
    //
    // let person_1 = person;
    // person_1['name'] = 'alex';
    // console.log(person_1['name'], person['name'])
    // alex, alex
    
    // Object.assign 
    // let person_2 = Object.assign({},person);
    // person_2['name'] = 'alex';
    // console.log(person_2['name'], person['name']);
    // 'alex' , 'Wes Bos'

    // the same 
    // let person_same = {
    //   name: person.name,
    //   age: person.age
    // }
    // person_same['name'] = 'alex';
    // console.log(person_same['name'], person['name']);
    // 'alex' , 'Wes Bos'

    // some something diff
    let company = {
      name: 'haha company',
      location: {
        address: 'taipei',
        addressNum: 237
      }
    }
    // let company_2 = Object.assign({}, company);
    // company_2.location.address = 'tainan';
    // console.log(company_2.location.address, company.location.address);
    // 'tainan', 'tainan'

    // deep copy
    let deep_company = JSON.parse(JSON.stringify(company));
    deep_company.location.address = 'tainan';
    console.log(deep_company.location.address, company.location.address);
     // 'tainan', 'taipei'
  </script>

</body>
</html>
